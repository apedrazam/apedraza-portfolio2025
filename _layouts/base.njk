<!DOCTYPE html><html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if title %}{{ title }}{% else %}Adrian Pedraza - Product Designer & UX Specialist{% endif %}</title>
    <meta name="description" content="{% if description %}{{ description }}{% else %}Adrian Pedraza - Product Designer and UX Specialist portfolio showcasing selected work and case studies.{% endif %}">
    
    <!-- Resource hints for faster loading -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="https://fonts.gstatic.com">
    {% if bodyClass === "home" %}
    <link rel="preload" href="/assets/images/hero-bg-block2.svg" as="image" fetchpriority="high">
    <link rel="preload" href="/assets/js/hero-animation.js" as="script">
    
    <!-- Early animation initialization -->
    <script>
      // Start downloading critical images as early as possible
      (function() {
        const criticalImages = [
          '/assets/images/hero-bg-block.svg',
          '/assets/images/hero-bg-block2.svg',
          '/assets/images/falling-hex.svg'
        ];
        
        // Create hidden image elements to force immediate loading
        criticalImages.forEach(function(src) {
          const img = new Image();
          img.src = src;
          img.style.position = 'absolute';
          img.style.width = '1px';
          img.style.height = '1px';
          img.style.opacity = '0.01';
          document.head.appendChild(img);
        });
      })();
    </script>
    {% endif %}
    
    {% if bodyClass === "about" %}
    <!-- Preload about page images -->
    <link rel="preload" href="/assets/images/about/fearless_researcher.webp" as="image" fetchpriority="high">
    <link rel="preload" href="/assets/images/about/meticulous_architect.webp" as="image" fetchpriority="high">
    <link rel="preload" href="/assets/images/about/pragmatic_designer.webp" as="image" fetchpriority="high">
    <link rel="preload" href="/assets/images/about/visionary_strategist.webp" as="image" fetchpriority="high">
    <link rel="preload" href="/assets/images/about/well-round_generalist.webp" as="image" fetchpriority="high">
    
    <!-- Early about image loading -->
    <script>
      // Start downloading about page images as early as possible
      (function() {
        const aboutImages = [
          '/assets/images/about/fearless_researcher.webp',
          '/assets/images/about/meticulous_architect.webp',
          '/assets/images/about/pragmatic_designer.webp',
          '/assets/images/about/visionary_strategist.webp',
          '/assets/images/about/well-round_generalist.webp'
        ];
        
        // Create image objects and store them in a global variable for the animation script to use
        window.preloadedAboutImages = [];
        
        aboutImages.forEach(function(src, index) {
          window.preloadedAboutImages[index] = new Image();
          window.preloadedAboutImages[index].src = src;
        });
      })();
    </script>
    {% endif %}
    
    <!-- Preload critical assets -->
    <link rel="preload" href="/assets/css/main.css" as="style">
    <link rel="preload" href="/assets/images/apedraza-logo.svg" as="image" fetchpriority="high">
    
    <!-- Favicon -->
    <link rel="icon" href="/assets/images/apedraza-logo.svg" type="image/svg+xml">

    <!-- Main CSS (compiled from SCSS) -->
    <link rel="stylesheet" href="/assets/css/main.css">âˆ«
    
    <!-- Additional CSS -->
    {% block additionalCSS %}{% endblock %}
    
    <!-- Analytics scripts (loaded conditionally based on cookie consent) -->
    <div id="analytics-scripts" style="display:none;">
        <!-- Heap Analytics -->
        <script type="text/plain" data-analytics="heap">
            window.heapReadyCb=window.heapReadyCb||[],window.heap=window.heap||[],heap.load=function(e,t){window.heap.envId=e,window.heap.clientConfig=t=t||{},window.heap.clientConfig.shouldFetchServerConfig=!1;var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="https://cdn.us.heap-api.com/config/"+e+"/heap_config.js";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(a,r);var n=["init","startTracking","stopTracking","track","resetIdentity","identify","identifyHashed","getSessionId","getUserId","getIdentity","addUserProperties","addEventProperties","removeEventProperty","clearEventProperties","addAccountProperties","addAdapter","addTransformer","addTransformerFn","onReady","addPageviewProperties","removePageviewProperty","clearPageviewProperties","trackPageview"],i=function(e){return function(){var t=Array.prototype.slice.call(arguments,0);window.heapReadyCb.push({name:e,fn:function(){heap[e]&&heap[e].apply(heap,t)}})}};for(var p=0;p<n.length;p++)heap[n[p]]=i(n[p])};
            heap.load("4214944802");
        </script>
    </div>
    
    <!-- Additional head content -->
    {% block head %}{% endblock %}
</head><body class="{% if bodyClass %}{{ bodyClass }}{% endif %}">
    <!-- Header Component -->
    {% include "components/header.njk" %}
    
    <!-- Main Content -->
    <main>
      {{ content | safe }}
      
      <!-- Bottom background SVG -->
      <figure class="bottom-bg-block-container">
        <img src="/assets/images/bottom-bg-block2.svg" class="bottom-bg-block" alt="" width="1920" height="300" loading="lazy">
        <img src="/assets/images/bottom-bg-block.svg" class="bottom-bg-block-mobile" alt="" width="768" height="200" loading="lazy">
      </figure>
    </main>
    
    <!-- Footer Component -->
    {% include "components/footer.njk" %}
    
    <!-- Scroll to Top Component -->
    {% include "components/scroll-to-top.njk" %}
    
    <!-- Cookie Consent Banner -->
    {% include "components/cookie-consent.njk" %}
    
    <!-- Critical Scripts - Load immediately -->
    <script src="/assets/js/header.js" defer></script>
    <script src="/assets/js/main.js" defer></script>
    <script src="/assets/js/cookie-consent.js" defer></script>
    
    <!-- Animation Scripts -->
    {% if bodyClass === "home" %}
    <!-- Homepage animation scripts -->
    <script src="/assets/js/hero-animation.js" defer></script>
    <script src="/assets/js/falling-hexes-bg.js" defer></script>
    {% endif %}
    
    <!-- Other animation scripts -->
    <script src="/assets/js/flashcards.js" defer></script>
    <script src="/assets/js/about-animation.js" defer></script>
    <script src="/assets/js/svg-tilt.js" defer></script>
    
    <!-- Additional Scripts -->
    {% block additionalScripts %}{% endblock %}
</body></html> 