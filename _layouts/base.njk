<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if title %}{{ title }}{% else %}Adrian Pedraza - Product Designer & UX Specialist{% endif %}</title>
    <meta name="description" content="{% if description %}{{ description }}{% else %}Adrian Pedraza - Product Designer and UX Specialist portfolio showcasing selected work and case studies.{% endif %}">
    
    <!-- Preload critical assets -->
    <link rel="preload" href="/assets/css/main.css" as="style">
    <link rel="preload" href="/assets/images/apedraza-logo.svg" as="image">
    
    <!-- Favicon -->
    <link rel="icon" href="/assets/images/apedraza-logo.svg" type="image/svg+xml">
    
    <!-- Main CSS (compiled from SCSS) -->
    <link rel="stylesheet" href="/assets/css/main.css">
    
    <!-- Flashcard CSS -->
    <link rel="stylesheet" href="/assets/css/flashcards.css">
    
    <!-- Additional CSS -->
    {% block additionalCSS %}{% endblock %}
    
    <!-- Analytics scripts (loaded conditionally based on cookie consent) -->
    <div id="analytics-scripts" style="display:none;">
        <!-- Heap Analytics -->
        <script type="text/javascript">   
          window.heapReadyCb=window.heapReadyCb||[],window.heap=window.heap||[],heap.load=function(e,t){window.heap.envId=e,window.heap.clientConfig=t=t||{},window.heap.clientConfig.shouldFetchServerConfig=!1;var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="https://cdn.us.heap-api.com/config/"+e+"/heap_config.js";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(a,r);var n=["init","startTracking","stopTracking","track","resetIdentity","identify","identifyHashed","getSessionId","getUserId","getIdentity","addUserProperties","addEventProperties","removeEventProperty","clearEventProperties","addAccountProperties","addAdapter","addTransformer","addTransformerFn","onReady","addPageviewProperties","removePageviewProperty","clearPageviewProperties","trackPageview"],i=function(e){return function(){var t=Array.prototype.slice.call(arguments,0);window.heapReadyCb.push({name:e,fn:function(){heap[e]&&heap[e].apply(heap,t)}})}};for(var p=0;p<n.length;p++)heap[n[p]]=i(n[p])};
          heap.load("4214944802"); 
        </script>
        <!-- Clarity Analytics -->
        <script type="text/javascript">
          (function(c,l,a,r,i,t,y){
              c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
              t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
              y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
          })(window, document, "clarity", "script", "qf36xrx4an");
      </script>
    </div>
    
    <!-- Additional head content -->
    {% block head %}{% endblock %}
</head>
<body class="{% if bodyClass %}{{ bodyClass }}{% endif %}">
    <!-- Header Component -->
    {% include "components/header.njk" %}
    
    <!-- Main Content -->
    <main>
      {{ content | safe }}
      
      <!-- Bottom background SVG -->
      <figure class="bottom-bg-block-container">
        <img src="/assets/images/bottom-bg-block2.svg" class="bottom-bg-block" alt=""/>
      </figure>
    </main>
    
    <!-- Footer Component -->
    {% include "components/footer.njk" %}
    
    <!-- Scroll to Top Component -->
    {% include "components/scroll-to-top.njk" %}
    
    <!-- Cookie Consent Banner -->
    {% include "components/cookie-consent.njk" %}
    
    <!-- Scripts -->
    <script src="/assets/js/header.js" defer></script>
    <script src="/assets/js/flashcards.js" defer></script>
    <script src="/assets/js/main.js" defer></script>
    <script src="/assets/js/svg-tilt.js" defer></script>
    <script src="/assets/js/hero-animation.js" defer></script>
    <script src="/assets/js/falling-hexes-bg.js" defer></script>
    <script src="/assets/js/cookie-consent.js" defer></script>
    
    <!-- Additional Scripts -->
    {% block additionalScripts %}{% endblock %}
</body>
</html> 